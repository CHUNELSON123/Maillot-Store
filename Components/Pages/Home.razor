@page "/"
@rendermode InteractiveServer
@using MaillotStore.Components.Account.Shared
@using MaillotStore.Models
@using MaillotStore.Data
@using Microsoft.EntityFrameworkCore
@inject ApplicationDbContext DbContext

<PageTitle>Home</PageTitle>

<div class="hero-banner">
    <div class="hero-content">
        <h2>Official Jerseys. Unbeatable Style.</h2>
        <p>Discover premium football jerseys at Maillot Store. Wear your passion and support your team in style.</p>
        <h3>"Your Premier Destination for Authentic Jerseys" </h3>
        <a href="/shop" class="btn btn-lg cta-button">
            <i class="fas fa-shopping-cart me-2"></i> Shop Now
        </a>
    </div>
</div>

<section class="featured-jerseys container section-spacer">
    <h2 class="text-center mb-4">Featured Jerseys</h2>
    @if (featuredProducts is not null)
    {
        <div class="row g-4">
            @foreach (var product in featuredProducts)
            {
                <div class="col-6 col-lg-4">
                    @* The wrapper link has been removed *@
                    <ProductCard Product="product" />
                </div>
            }
        </div>
    }
    else
    {
        <p class="text-center"><em>Loading featured jerseys...</em></p>
    }
</section>

@* Other sections remain the same... *@

@code {
    private List<Product>? featuredProducts;

    protected override async Task OnInitializedAsync()
    {
        featuredProducts = await DbContext.Products.Where(p => p.IsFeatured).ToListAsync();
    }
}